#API Документация: SimpleData API

##Введение

**SimpleData API предоставляет простой способ работы с данными с помощью базовых HTTP-запросов. API позволяет создавать, читать, обновлять и удалять (CRUD) записи, хранящиеся в формате JSON.**

####Базовый URL:

**https://api.example.com/v1**

####Аутентификация:

- Для доступа к API требуется API-ключ.

- Получение API-ключа: обратитесь к администратору системы для получения вашего уникального API-ключа.

- Передача API-ключа: API-ключ передается в заголовке X-API-Key каждого запроса.

####Формат данных:

- API использует формат JSON для обмена данными. Запросы и ответы должны содержать корректный JSON.

##1. /data (CRUD операции)

####1.1. POST /data (Создание новой записи)

**Описание: Создает новую запись в базе данных.**

- Запрос:

- Метод: POST

- Заголовок: Content-Type: application/json

- Заголовок: X-API-Key: YOUR_API_KEY

- Тело запроса (JSON):

```
  "field1": "value1",
  "field2": 123,
  "field3": true
```

**json**

**Пример:**

```
curl -X POST "https://api.example.com/v1/data" \
     -H "Content-Type: application/json" \
     -H "X-API-Key: YOUR_API_KEY" \
     -d '{ "name": "John Doe", "age": 30, "city": "New York" }'
```


**Ответ:**

-Код статуса: 201 Created (при успешном создании)

-Заголовок: Content-Type: application/json

-Тело ответа (JSON):

```
  
  "id": "unique_id",
  "field1": "value1",
  "field2": 123,
  "field3": true
```

**json**
-где unique_id - уникальный идентификатор созданной записи.

**Ответ при ошибке:**

- Код статуса: 400 Bad Request (некорректные данные запроса)


- Код статуса: 401 Unauthorized (неверный API-ключ)

- Код статуса: 500 Internal Server Error (ошибка на сервере)

- Тело ответа (JSON, при ошибке):
```
  "error": "error_message"
```

**json**

####1.2. GET /data/{id} (Получение записи по идентификатору)

**Описание: Получает запись по ее уникальному идентификатору.**

- Запрос:

- Метод: GET

- Заголовок: `X-API-Key: YOUR_API_KEY`

- Параметры URL:
- {id}: Уникальный идентификатор записи (например, /data/unique_id)

- Пример:
```
curl -X GET "https://api.example.com/v1/data/unique_id" \
     -H "X-API-Key: YOUR_API_KEY"
```

**Ответ:**

-Код статуса: 200 OK (при успешном получении)

-Заголовок: Content-Type: application/json

-Тело ответа (JSON):
```
  "id": "unique_id",
  "field1": "value1",
  "field2": 123,
  "field3": true
```

**json**

**Ответ при ошибке:**

- Код статуса: 401 Unauthorized (неверный API-ключ)

- Код статуса: 404 Not Found (запись с указанным ID не найдена)

- Код статуса: 500 Internal Server Error (ошибка на сервере)

-Тело ответа (JSON, при ошибке):
```
  "error": "error_message"
```

**json**

####1.3. PUT /data/{id} (Обновление записи по идентификатору)

**Описание: обновляет существующую запись по ее уникальному идентификатору.**

- Запрос:

- Метод: PUT

- Заголовок: `Content-Type: application/json`

- Заголовок: `X-API-Key: YOUR_API_KEY`

- Параметры URL:

- {id}: Уникальный идентификатор записи (например, /data/unique_id)

- Тело запроса (JSON):

```
  "field1": "new_value",
  "field2": 456
```

**json**

-Пример:
```
curl -X PUT "https://api.example.com/v1/data/unique_id" \
     -H "Content-Type: application/json" \
     -H "X-API-Key: YOUR_API_KEY" \
     -d '{ "city": "London", "age": 31 }'
```

**Ответ:**

- Код статуса: 200 OK (при успешном обновлении)

- Заголовок: Content-Type: application/json

- Тело ответа (JSON):
```
  "id": "unique_id",
  "field1": "new_value",
  "field2": 456,
  "field3": true
```

**json**

**Ответ при ошибке:**

- Код статуса: 400 Bad Request (некорректные данные запроса)

- Код статуса: 401 Unauthorized (неверный API-ключ)

- Код статуса: 404 Not Found (запись с указанным ID не найдена)

- Код статуса: 500 Internal Server Error (ошибка на сервере)

- Тело ответа (JSON, при ошибке):
```
  "error": "error_message"
```

**json**

####1.4. DELETE /data/{id} (Удаление записи по идентификатору)

**Описание: Удаляет запись по ее уникальному идентификатору.**

- Запрос:

- Метод: DELETE

- Заголовок: `X-API-Key: YOUR_API_KEY`

- Параметры URL:

- {id}: Уникальный идентификатор записи (например, /data/unique_id)

**Пример:**
```
curl -X DELETE "https://api.example.com/v1/data/unique_id" \
     -H "X-API-Key: YOUR_API_KEY"
```

**Ответ:**

- Код статуса: 204 No Content (при успешном удалении)

**Ответ при ошибке:**

- Код статуса: 401 Unauthorized (неверный API-ключ)

-Код статуса: 404 Not Found (запись с указанным ID не найдена)

- Код статуса: 500 Internal Server Error (ошибка на сервере)

**Тело ответа (JSON, при ошибке):**
```
  "error": "error_message"
```

**json**

##2. /data (Поиск по параметрам)

####2.1. GET /data?field1=значение1&field2=значение2 (Поиск записей)


**Описание: Позволяет искать записи по параметрам. Поддерживает поиск по нескольким полям.**

- Запрос:

- Метод: GET

- Заголовок: `X-API-Key: YOUR_API_KEY`

- Параметры URL (query parameters):
```
field1: Значение для поиска по полю field1.
field2: Значение для поиска по полю field2.
… и так далее, сколько параметров нужно для поиска.
```

**Пример:**
```
curl -X GET "https://api.example.com/v1/data?name=John Doe&city=New York" \
     -H "X-API-Key: YOUR_API_KEY"
```

**Ответ:**

- Код статуса: 200 OK (при успешном поиске)

- Заголовок: Content-Type: application/json

- Тело ответа (JSON):
```
  {
    "id": "unique_id_1",
    "name": "John Doe",
    "city": "New York",
    "age": 30
  },
  {
    "id": "unique_id_2",
    "name": "John Doe",
    "city": "New York",
    "age": 31
  }
```

**json**

- (Возвращает массив найденных записей)

**Ответ при ошибке:**

- Код статуса: 401 Unauthorized (неверный API-ключ)

- Код статуса: 500 Internal Server Error (ошибка на сервере)

- Тело ответа (JSON, при ошибке):

```
  "error": "error_message"
```

**json**

##3. Ограничения и лимиты

- Ограничение запросов: API имеет ограничение на количество запросов в минуту (например, 60 запросов в минуту). Превышение лимита приведет к ошибке с кодом состояния 429 Too Many Requests.

- Размер тела запроса: максимальный размер тела запроса (например, 1 МБ).

- Поля данных: поддерживаемые поля и их типы данных (например, name — строка, age — целое число, is_active — логическое значение). Некорректные типы данных в запросах приведут к ошибке 400 Bad Request.

##4. Обработка ошибок

**API использует стандартные коды HTTP-статусов для обозначения ошибок. Тело ответа при ошибке содержит поле error с описанием ошибки.**

- 400 Неверный запрос: Неверный запрос (например, неверный формат JSON, отсутствуют обязательные поля, неверные типы данных).

- 401 «Неавторизовано»: неверный или отсутствующий API-ключ.

- 404 «Не найдено»: ресурс не найден (например, запись с указанным идентификатором не существует).

- 429 Too Many Requests: Превышен лимит запросов.

- 500 Внутренняя ошибка сервера: Внутренняя ошибка сервера (пожалуйста, сообщите об этой ошибке).

##5. Техническая поддержка

По всем вопросам, связанным с использованием API, обращайтесь по адресу: [maksim2003rus@mail.ru]